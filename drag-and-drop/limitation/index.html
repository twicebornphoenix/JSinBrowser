<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<title>Ограничение частоты функций</title>
	<link rel="stylesheet" href="css/style.css">
</head>
<body>
	<div class="block">
	  <span class="left_eye"></span>  
	  <span class="right_eye"></span>
	  <p class="message">Ты почему перестал печатать?</p>
	</div>
	
	<textarea class="textarea" placeholder="Введите текст..."></textarea>

	<script>
		const txtarea = document.querySelector('.textarea');
		const bull = document.querySelector('.block');
		const message = document.querySelector('.message');

		txtarea.addEventListener('focus', e => {
			bull.classList.add('active');
			message.classList.remove('view');
		});
		txtarea.addEventListener('blur', e => {
			bull.classList.remove('active');
			message.classList.remove('view');
		});

		txtarea.addEventListener('keydown', debounce(() => {
			bull.classList.remove('active');
			message.classList.add('view');
		}, 2000))

		function debounce(callback, delay) {
			let timeout;
			return () => {
				clearTimeout(timeout);
				timeout = setTimeout(function() {
					timeout = null;
					callback();
				}, delay);
			}
		}
	</script>
</body>
</html>