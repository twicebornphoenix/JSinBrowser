<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <title>Отслеживание указателя мыши</title>
    <link rel="stylesheet" href="css/style.css">
</head>

<body>
    <div class="cat">
        <div class="cat_position_for_left_eye">
            <span class="cat_eye cat_eye_left"></span>
        </div>
        <div class="cat_position_for_right_eye">
            <span class="cat_eye cat_eye_right"></span>
        </div>
    </div>
    </div>
    <script>
    const lEye = document.querySelector('.cat_position_for_left_eye');
    const rEye = document.querySelector('.cat_position_for_right_eye');

    const lEyeCords = lEye.getBoundingClientRect();
    const rEyeCords = rEye.getBoundingClientRect();

    const eyeSize = lEyeCords.width;
    const eyeT = lEyeCords.top;
    const eyeB = lEyeCords.top + eyeSize;

    const lEyeL = lEyeCords.left;
    const lEyeR = lEyeL + eyeSize;
    const rEyeL = rEyeCords.left;
    const rEyeR = rEyeL + eyeSize;

    const lPup = document.querySelector('.cat_eye_left');
    const rPup = document.querySelector('.cat_eye_right');

    const lPupCords = lPup.getBoundingClientRect();
    const rPupCords = rPup.getBoundingClientRect();

    const pupRadius = lPup.width / 2;

    document.addEventListener('mousemove', e => {

        if (e.clientX < lEyeL) {
            lPup.style.left = 0 + 'px';
        } else if (e.clientX > lEyeL + pupRadius && e.clientX < lEyeL + eyeSize - pupRadius) {
            let pos = eyeSize - lEyeL + eyeSize - e.clientX;
            lPup.style.left = pos - pupRadius + 'px';
        } else if (e.clientX > lEyeL + eyeSize) {
            lPup.style.left = 50 + '%'
        }

        if (e.clientY < eyeT) {
            lPup.style.top = 0 + 'px';
        } else if (e.clientY > eyeT + pupRadius && e.clientY < eyeT + eyeSize - pupRadius) {
            let pos = eyeSize - eyeT + eyeSize - e.clientY;
            lPup.style.top = pos - pupRadius + 'px';
        } else if (e.clientY > eyeT + eyeSize) {
            lPup.style.top = 50 + '%'
        }

        if (e.clientX < rEyeL) {
            rPup.style.left = 0 + 'px';
        } else if (e.clientX > rEyeL + pupRadius && e.clientX < rEyeL + eyeSize - pupRadius) {
            let pos = eyeSize - rEyeL + eyeSize - e.clientX;
            rPup.style.left = pos - pupRadius + 'px';
        } else if (e.clientX > rEyeL + eyeSize) {
            rPup.style.left = 50 + '%'
        }

        if (e.clientY < eyeB) {
            rPup.style.top = 0 + 'px';
        } else if (e.clientY > eyeB + pupRadius && e.clientY < eyeB + eyeSize - pupRadius) {
            let pos = eyeSize - eyeB + eyeSize - e.clientY;
            rPup.style.top = pos - pupRadius + 'px';
        } else if (e.clientY > eyeB + eyeSize) {
            rPup.style.top = 50 + '%'
        }
    });
    </script>
</body>

</html>